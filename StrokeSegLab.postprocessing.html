

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StrokeSegLab.postprocessing package &mdash; StrokeSeg 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="StrokeSegLab.preprocessing package" href="StrokeSegLab.preprocessing.html" />
    <link rel="prev" title="StrokeSegLab.managers package" href="StrokeSegLab.managers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            StrokeSeg
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="StrokeSegLab.html">StrokeSegLab package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="StrokeSegLab.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.entrypoints.html">StrokeSegLab.entrypoints package</a></li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.inference.html">StrokeSegLab.inference package</a></li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.logger.html">StrokeSegLab.logger package</a></li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.managers.html">StrokeSegLab.managers package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">StrokeSegLab.postprocessing package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-StrokeSegLab.postprocessing.postprocessor">StrokeSegLab.postprocessing.postprocessor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-StrokeSegLab.postprocessing.viewer">StrokeSegLab.postprocessing.viewer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-StrokeSegLab.postprocessing">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.preprocessing.html">StrokeSegLab.preprocessing package</a></li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.utils.html">StrokeSegLab.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="StrokeSegLab.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="StrokeSegLab.html#module-StrokeSegLab.convertor_fp16">StrokeSegLab.convertor_fp16 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="StrokeSegLab.html#module-StrokeSegLab.stroke_seg">StrokeSegLab.stroke_seg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="StrokeSegLab.html#module-StrokeSegLab">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">StrokeSeg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="StrokeSegLab.html">StrokeSegLab package</a></li>
      <li class="breadcrumb-item active">StrokeSegLab.postprocessing package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/StrokeSegLab.postprocessing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="strokeseglab-postprocessing-package">
<h1>StrokeSegLab.postprocessing package<a class="headerlink" href="#strokeseglab-postprocessing-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-StrokeSegLab.postprocessing.postprocessor">
<span id="strokeseglab-postprocessing-postprocessor-module"></span><h2>StrokeSegLab.postprocessing.postprocessor module<a class="headerlink" href="#module-StrokeSegLab.postprocessing.postprocessor" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="StrokeSegLab.postprocessing.postprocessor.Postprocessor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StrokeSegLab.postprocessing.postprocessor.</span></span><span class="sig-name descname"><span class="pre">Postprocessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gui</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/StrokeSegLab/postprocessing/postprocessor.html#Postprocessor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.postprocessing.postprocessor.Postprocessor" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class performs postprocessing on 3D images</p>
<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.postprocessing.postprocessor.Postprocessor.check_viewer">
<span class="sig-name descname"><span class="pre">check_viewer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">viewer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/StrokeSegLab/postprocessing/postprocessor.html#Postprocessor.check_viewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.postprocessing.postprocessor.Postprocessor.check_viewer" title="Link to this definition"></a></dt>
<dd><p>Call for check_viewer method from the viewer class to check if the viewer specify exist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>viewer</strong> (<em>str</em>) – Name of the viewer specify</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.postprocessing.postprocessor.Postprocessor.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trsf_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_spacing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MNI_base_image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">open_viewer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/StrokeSegLab/postprocessing/postprocessor.html#Postprocessor.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.postprocessing.postprocessor.Postprocessor.run" title="Link to this definition"></a></dt>
<dd><p>Run the entire postprocessing pipeline on the data produced by the inference step :
- Convert to segmentation, return a pmap if the option is specified by the user
- Remove padding
- Uncrop
- Resampling to the original spacing
- Saving image
- Register to reference only if the inverse transformation was applied during preprocessing
- Open viewer with input image and binary mask if the option was specified by the user</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – Data prostprocessed</p></li>
<li><p><strong>affine</strong> (<em>np.ndarray</em>) – affine matrix</p></li>
<li><p><strong>input_path</strong> (<em>str</em>) – Input path</p></li>
<li><p><strong>bbox</strong> (<em>list</em><em>[</em><em>tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – Bounding box coordinates used for cropping</p></li>
<li><p><strong>original_shape</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Original shape of the image before preprocessing</p></li>
<li><p><strong>temp_dir</strong> (<em>str</em>) – Path to the temporary directory</p></li>
<li><p><strong>trsf_path</strong> (<em>str</em>) – Path to the transformation text file</p></li>
<li><p><strong>old_spacing</strong> (<em>tuple</em><em>[</em><em>float</em><em>,</em><em>float</em><em>,</em><em>float</em><em>]</em>) – Voxel spacing of the input image</p></li>
<li><p><strong>padding</strong> (<em>list</em><em>[</em><em>tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – List of padding tuples applied to each dimension</p></li>
<li><p><strong>bet</strong> (<em>str</em>) – Path to the brain-extracted T1 image</p></li>
<li><p><strong>MNI_base_image</strong> (<em>str</em>) – Reference MNI image array or None</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – Segmentation threshold value</p></li>
<li><p><strong>open_viewer</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True open a viewer with input image and segmentation. Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-StrokeSegLab.postprocessing.viewer">
<span id="strokeseglab-postprocessing-viewer-module"></span><h2>StrokeSegLab.postprocessing.viewer module<a class="headerlink" href="#module-StrokeSegLab.postprocessing.viewer" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="StrokeSegLab.postprocessing.viewer.Viewer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StrokeSegLab.postprocessing.viewer.</span></span><span class="sig-name descname"><span class="pre">Viewer</span></span><a class="reference internal" href="_modules/StrokeSegLab/postprocessing/viewer.html#Viewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.postprocessing.viewer.Viewer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class handle viewers : updating path, checking availability and running it</p>
<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.postprocessing.viewer.Viewer.update_path">
<span class="sig-name descname"><span class="pre">update_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/StrokeSegLab/postprocessing/viewer.html#Viewer.update_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.postprocessing.viewer.Viewer.update_path" title="Link to this definition"></a></dt>
<dd><p>Update all the path for the viewers supported by the application. Set a viewer available on the path as the default one</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.postprocessing.viewer.Viewer.check_viewer">
<span class="sig-name descname"><span class="pre">check_viewer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">viewer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/StrokeSegLab/postprocessing/viewer.html#Viewer.check_viewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.postprocessing.viewer.Viewer.check_viewer" title="Link to this definition"></a></dt>
<dd><p>Check if a viewer given is supported by the application and available on the path. If not raise an error based on the type of error. Only used in CLI mode, GUI users can simply select from a list of available viewers. If the viewer is available, set it as default one</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>viewer</strong> (<em>str</em>) – name of the viewer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.postprocessing.viewer.Viewer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/StrokeSegLab/postprocessing/viewer.html#Viewer.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.postprocessing.viewer.Viewer.run" title="Link to this definition"></a></dt>
<dd><p>Open the base image and the generated segmentation in the default viewer. If an error occurs, call for an update of the viewers paths</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_path</strong> (<em>str</em>) – Base image path (input)</p></li>
<li><p><strong>seg_path</strong> (<em>str</em>) – Binary mask path (output)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-StrokeSegLab.postprocessing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-StrokeSegLab.postprocessing" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="StrokeSegLab.managers.html" class="btn btn-neutral float-left" title="StrokeSegLab.managers package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="StrokeSegLab.preprocessing.html" class="btn btn-neutral float-right" title="StrokeSegLab.preprocessing package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Yann Kerverdo, Florent Leray, Youwan Mahé.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>