

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StrokeSegLab.preprocessing package &mdash; StrokeSeg 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="StrokeSegLab.utils package" href="StrokeSegLab.utils.html" />
    <link rel="prev" title="StrokeSegLab.postprocessing package" href="StrokeSegLab.postprocessing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            StrokeSeg
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="StrokeSegLab.html">StrokeSegLab package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="StrokeSegLab.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.entrypoints.html">StrokeSegLab.entrypoints package</a></li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.inference.html">StrokeSegLab.inference package</a></li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.logger.html">StrokeSegLab.logger package</a></li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.managers.html">StrokeSegLab.managers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.postprocessing.html">StrokeSegLab.postprocessing package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">StrokeSegLab.preprocessing package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-StrokeSegLab.preprocessing.brain_extraction">StrokeSegLab.preprocessing.brain_extraction module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-StrokeSegLab.preprocessing.preprocessor">StrokeSegLab.preprocessing.preprocessor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-StrokeSegLab.preprocessing.resampling">StrokeSegLab.preprocessing.resampling module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-StrokeSegLab.preprocessing.utils">StrokeSegLab.preprocessing.utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-StrokeSegLab.preprocessing">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="StrokeSegLab.utils.html">StrokeSegLab.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="StrokeSegLab.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="StrokeSegLab.html#module-StrokeSegLab.convertor_fp16">StrokeSegLab.convertor_fp16 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="StrokeSegLab.html#module-StrokeSegLab.stroke_seg">StrokeSegLab.stroke_seg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="StrokeSegLab.html#module-StrokeSegLab">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">StrokeSeg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="StrokeSegLab.html">StrokeSegLab package</a></li>
      <li class="breadcrumb-item active">StrokeSegLab.preprocessing package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/StrokeSegLab.preprocessing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="strokeseglab-preprocessing-package">
<h1>StrokeSegLab.preprocessing package<a class="headerlink" href="#strokeseglab-preprocessing-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-StrokeSegLab.preprocessing.brain_extraction">
<span id="strokeseglab-preprocessing-brain-extraction-module"></span><h2>StrokeSegLab.preprocessing.brain_extraction module<a class="headerlink" href="#module-StrokeSegLab.preprocessing.brain_extraction" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.brain_extraction.BrainExtracter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StrokeSegLab.preprocessing.brain_extraction.</span></span><span class="sig-name descname"><span class="pre">BrainExtracter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrapper</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="StrokeSegLab.utils.html#StrokeSegLab.utils.wrapper.AnimaWrapper" title="StrokeSegLab.utils.wrapper.AnimaWrapper"><span class="pre">AnimaWrapper</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">atlasImage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gui</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/brain_extraction.html#BrainExtracter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.brain_extraction.BrainExtracter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class handle the brain extraction during the preprocessing</p>
<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.brain_extraction.BrainExtracter.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/brain_extraction.html#BrainExtracter.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.brain_extraction.BrainExtracter.run" title="Link to this definition"></a></dt>
<dd><p>Performs the brain extraction on 3D image. Composed by a sequence of anima commands. Store all intermediate results in the temporary directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_path</strong> (<em>str</em>) – Input path</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Composed of the temporary folder path and the input file’s base name without its extension</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The output, the brain extracted image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-StrokeSegLab.preprocessing.preprocessor">
<span id="strokeseglab-preprocessing-preprocessor-module"></span><h2>StrokeSegLab.preprocessing.preprocessor module<a class="headerlink" href="#module-StrokeSegLab.preprocessing.preprocessor" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.preprocessor.Preprocessor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StrokeSegLab.preprocessing.preprocessor.</span></span><span class="sig-name descname"><span class="pre">Preprocessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gui</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/preprocessor.html#Preprocessor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.preprocessor.Preprocessor" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class performs preprocessing on 3D images</p>
<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.preprocessor.Preprocessor.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bet_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/preprocessor.html#Preprocessor.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.preprocessor.Preprocessor.run" title="Link to this definition"></a></dt>
<dd><p>Run the brain extraction and handle different case : 1 or 2 channels, BET only or not, MNI input or not, save MNI or not</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t1</strong> (<em>str</em>) – Path to the T1 image</p></li>
<li><p><strong>flair</strong> (<em>str</em>) – Path to the FLAIR image</p></li>
<li><p><strong>temp_dir</strong> (<em>str</em>) – Path to the temporary directory</p></li>
<li><p><strong>bet_only</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True doing brain extraction only. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>data preprocessed</p></li>
<li><p>affine matrix</p></li>
<li><p>Bounding box coordinates used for cropping</p></li>
<li><p>Original shape of the image before preprocessing</p></li>
<li><p>Path to the transformation text file</p></li>
<li><p>Voxel spacing of the image</p></li>
<li><p>List of padding tuples applied to each dimension</p></li>
<li><p>Path to the brain-extracted T1 image</p></li>
<li><p>Reference MNI image array or None</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[np.ndarray,np.ndarray,list[tuple[int, int]], tuple[int,int,int], str, tuple[float,float,float], list[tuple[int, int]], str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.preprocessor.Preprocessor.clean">
<span class="sig-name descname"><span class="pre">clean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temp_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/preprocessor.html#Preprocessor.clean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.preprocessor.Preprocessor.clean" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.preprocessor.Preprocessor.find_nii_files">
<span class="sig-name descname"><span class="pre">find_nii_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/preprocessor.html#Preprocessor.find_nii_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.preprocessor.Preprocessor.find_nii_files" title="Link to this definition"></a></dt>
<dd><p>Search for NIfTI (.nii or .nii.gz) files in the input directory or single input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>Dictionary : T1 path : FLAIR path or None</p></li>
<li><p>The number of T1 subjects (FLAIR too if using a 1 channel model)</p></li>
<li><p>The number of FLAIR images (if using a 2 channels model)</p></li>
<li><p>List of subject IDs for which T1 or FLAIR was missing</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[dict[str, str | None], int, int, list[str]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-StrokeSegLab.preprocessing.resampling">
<span id="strokeseglab-preprocessing-resampling-module"></span><h2>StrokeSegLab.preprocessing.resampling module<a class="headerlink" href="#module-StrokeSegLab.preprocessing.resampling" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.resampling.Resampler">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StrokeSegLab.preprocessing.resampling.</span></span><span class="sig-name descname"><span class="pre">Resampler</span></span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/resampling.html#Resampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.resampling.Resampler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class handle the resampling during the preprocessing and postprocessing</p>
<dl class="py method">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.resampling.Resampler.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_spacing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_spacing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/resampling.html#Resampler.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.resampling.Resampler.run" title="Link to this definition"></a></dt>
<dd><p>Resamples the input data to a new spacing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – Input array of shape (c, x, y, z)</p></li>
<li><p><strong>current_spacing</strong> (<em>tuple</em><em>[</em><em>float</em><em>,</em><em>float</em><em>,</em><em>float</em><em>]</em>) – Current spacing in mm (sx, sy, sz)</p></li>
<li><p><strong>new_spacing</strong> (<em>tuple</em><em>[</em><em>float</em><em>,</em><em>float</em><em>,</em><em>float</em><em>]</em>) – Desired spacing in mm (sx, sy, sz)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The resampled data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-StrokeSegLab.preprocessing.utils">
<span id="strokeseglab-preprocessing-utils-module"></span><h2>StrokeSegLab.preprocessing.utils module<a class="headerlink" href="#module-StrokeSegLab.preprocessing.utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.utils.get_bbox_from_mask">
<span class="sig-prename descclassname"><span class="pre">StrokeSegLab.preprocessing.utils.</span></span><span class="sig-name descname"><span class="pre">get_bbox_from_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/utils.html#get_bbox_from_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.utils.get_bbox_from_mask" title="Link to this definition"></a></dt>
<dd><p>ALL bounding boxes in acvl_utils and nnU-Netv2 are half open interval [start, end)!
- Alignment with Python Slicing
- Ease of Subdivision
- Consistency in Multi-Dimensional Arrays
- Precedent in Computer Graphics
<a class="reference external" href="https://chatgpt.com/share/679203ec-3fbc-8013-a003-13a7adfb1e73">https://chatgpt.com/share/679203ec-3fbc-8013-a003-13a7adfb1e73</a></p>
<p>this implementation uses less ram than the np.where one and is faster as well IF we expect the bounding box to
be close to the image size. If it’s not it’s likely slower!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong></p></li>
<li><p><strong>outside_value</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.utils.bounding_box_to_slice">
<span class="sig-prename descclassname"><span class="pre">StrokeSegLab.preprocessing.utils.</span></span><span class="sig-name descname"><span class="pre">bounding_box_to_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounding_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/utils.html#bounding_box_to_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.utils.bounding_box_to_slice" title="Link to this definition"></a></dt>
<dd><p>ALL bounding boxes in acvl_utils and nnU-Netv2 are half open interval [start, end)!
- Alignment with Python Slicing
- Ease of Subdivision
- Consistency in Multi-Dimensional Arrays
- Precedent in Computer Graphics
<a class="reference external" href="https://chatgpt.com/share/679203ec-3fbc-8013-a003-13a7adfb1e73">https://chatgpt.com/share/679203ec-3fbc-8013-a003-13a7adfb1e73</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="StrokeSegLab.preprocessing.utils.resize_segmentation">
<span class="sig-prename descclassname"><span class="pre">StrokeSegLab.preprocessing.utils.</span></span><span class="sig-name descname"><span class="pre">resize_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segmentation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/StrokeSegLab/preprocessing/utils.html#resize_segmentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#StrokeSegLab.preprocessing.utils.resize_segmentation" title="Link to this definition"></a></dt>
<dd><p>Resizes a segmentation map. Supports all orders (see skimage documentation). Will transform segmentation map to one
hot encoding which is resized and transformed back to a segmentation map.
This prevents interpolation artifacts ([0, 0, 2] -&gt; [0, 1, 2])
:param segmentation:
:param new_shape:
:param order:
:return:</p>
</dd></dl>

</section>
<section id="module-StrokeSegLab.preprocessing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-StrokeSegLab.preprocessing" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="StrokeSegLab.postprocessing.html" class="btn btn-neutral float-left" title="StrokeSegLab.postprocessing package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="StrokeSegLab.utils.html" class="btn btn-neutral float-right" title="StrokeSegLab.utils package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Yann Kerverdo, Florent Leray, Youwan Mahé.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>